(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singleSticker"],{"0cb2":function(e,t,a){var s=a("e330"),n=a("7b0b"),i=Math.floor,r=s("".charAt),l=s("".replace),c=s("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,a,s,o,_){var f=a+e.length,b=s.length,v=d;return void 0!==o&&(o=n(o),v=u),l(_,v,(function(n,l){var u;switch(r(l,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,a);case"'":return c(t,f);case"<":u=o[c(l,1,-1)];break;default:var d=+l;if(0===d)return n;if(d>b){var _=i(d/10);return 0===_?n:_<=b?void 0===s[_-1]?r(l,1):s[_-1]+r(l,1):n}u=s[d-1]}return void 0===u?"":u}))}},5319:function(e,t,a){"use strict";var s=a("2ba4"),n=a("c65b"),i=a("e330"),r=a("d784"),l=a("d039"),c=a("825a"),u=a("1626"),d=a("5926"),o=a("50c4"),_=a("577e"),f=a("1d80"),b=a("8aa5"),v=a("dc4a"),g=a("0cb2"),p=a("14c3"),h=a("b622"),j=h("replace"),O=Math.max,m=Math.min,k=i([].concat),D=i([].push),S=i("".indexOf),w=i("".slice),y=function(e){return void 0===e?e:String(e)},x=function(){return"$0"==="a".replace(/./,"$0")}(),$=function(){return!!/./[j]&&""===/./[j]("a","$0")}(),I=!l((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));r("replace",(function(e,t,a){var i=$?"$":"$0";return[function(e,a){var s=f(this),i=void 0==e?void 0:v(e,j);return i?n(i,e,s,a):n(t,_(s),e,a)},function(e,n){var r=c(this),l=_(e);if("string"==typeof n&&-1===S(n,i)&&-1===S(n,"$<")){var f=a(t,r,l,n);if(f.done)return f.value}var v=u(n);v||(n=_(n));var h=r.global;if(h){var j=r.unicode;r.lastIndex=0}var x=[];while(1){var $=p(r,l);if(null===$)break;if(D(x,$),!h)break;var I=_($[0]);""===I&&(r.lastIndex=b(l,o(r.lastIndex),j))}for(var R="",T=0,B=0;B<x.length;B++){$=x[B];for(var C=_($[0]),N=O(m(d($.index),l.length),0),F=[],M=1;M<$.length;M++)D(F,y($[M]));var U=$.groups;if(v){var A=k([C],F,N,l);void 0!==U&&D(A,U);var E=_(s(n,void 0,A))}else E=g(C,l,N,F,U,n);N>=T&&(R+=w(l,T,N)+E,T=N+C.length)}return R+w(l,T)}]}),!I||!x||$)},b0c0:function(e,t,a){var s=a("83ab"),n=a("5e77").EXISTS,i=a("e330"),r=a("9bf2").f,l=Function.prototype,c=i(l.toString),u=/^\s*function ([^ (]*)/,d=i(u.exec),o="name";s&&!n&&r(l,o,{configurable:!0,get:function(){try{return d(u,c(this))[1]}catch(e){return""}}})},c740:function(e,t,a){"use strict";var s=a("23e7"),n=a("b727").findIndex,i=a("44d2"),r="findIndex",l=!0;r in[]&&Array(1)[r]((function(){l=!1})),s({target:"Array",proto:!0,forced:l},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(r)},f017:function(e,t,a){"use strict";a.r(t);var s=a("7a23"),n={class:"_homeView"},i={class:""};function r(e,t,a,r,l,c){var u=Object(s["x"])("Menu"),d=Object(s["x"])("Guide"),o=Object(s["x"])("SingleSticker"),_=Object(s["x"])("Footer");return Object(s["s"])(),Object(s["e"])("div",n,[Object(s["f"])("div",i,[Object(s["i"])(u),Object(s["i"])(d)]),Object(s["i"])(o),Object(s["i"])(_)])}var l={class:"_guide"},c=Object(s["g"])('<h2 class="_guide_title"><span class="_guide_title__icon material-symbols-rounded"> insert_chart </span> 愛用貼圖排行(以張為單位) </h2><p>比較同一組貼圖內各張貼圖的傳送數據。</p><h3 class="_guide_subtitle">目前功能</h3><div class="_guide_des"><div class="_guide_des__main"><p>可依據以下六個值顯示貼圖排序</p><ul class="_guide_ul"><li class="_guide_ul__li">貼圖傳送次數 / No. of Stickers Sent</li><li class="_guide_ul__li">貼圖被接收次數 / No. of Stickers Received</li><li class="_guide_ul__li">傳送貼圖人數 / No. of Users Sent to <span class="_guide_dot _guide_dot--red"></span></li><li class="_guide_ul__li">接收貼圖人數 / No. of Users who Received <span class="_guide_dot _guide_dot--red"></span></li><li class="_guide_ul__li">平均接收人數 <span class="_guide_des__ps">(註一)</span> <span class="_guide_dot _guide_dot--red"></span><span class="_guide_dot _guide_dot--green"></span></li><li class="_guide_ul__li">平均傳送次數 <span class="_guide_des__ps">(註二)</span> <span class="_guide_dot _guide_dot--red"></span><span class="_guide_dot _guide_dot--green"></span></li></ul></div><div class="_guide_des__note"><div class="_guide_des__ps"><p>註一：接收貼圖人數 / 傳送貼圖人數，數字大於 1 代表貼圖一次被傳送給多人，例如群組之類。<br> 註二：貼圖傳送次數 / 傳送貼圖人數，代表使用者重複使用此張貼圖的平均次數。</p></div><div class="_guide_dotBlock"><p class="_guide_dotBlock__item"><span class="_guide_dot _guide_dot--red"></span> 目前 line 後台沒有顯示</p><p class="_guide_dotBlock__item"><span class="_guide_dot _guide_dot--green"></span> 額外新增</p></div></div></div><h3 class="_guide_subtitle">預計新增功能</h3><div class="_guide_des"><ul class="_guide_ul"><li class="_guide_ul__li">可修改時間區段（開始日期＆結束日期）篩選資料</li><li class="_guide_ul__li">以曲線圖呈現數值</li><li class="_guide_ul__li">分析賣出組數及國家(使用收益 csv)</li></ul></div>',6),u=[c];function d(e,t,a,n,i,r){return Object(s["s"])(),Object(s["e"])("div",l,u)}var o={name:"Guide",props:{}},_=a("6b0d"),f=a.n(_);const b=f()(o,[["render",d]]);var v=b,g=a("fd2d"),p=a("fb62"),h={class:"_control"},j={class:"_control_des"},O=Object(s["f"])("h4",{class:"_control_des__title"},"上傳檔案",-1),m={class:"_control_des__item"},k=Object(s["f"])("h4",{class:"_control_des__subtitle"},"1. 選擇由 line 貼圖後台下載的 .csv",-1),D=Object(s["f"])("p",{class:"_control_des__des"},[Object(s["h"])(" 支援檔名為 stats-"),Object(s["f"])("span",{class:"_control_des__highlight"},"sticker_detail"),Object(s["h"])("-(sitckerId)-all-(date) 的檔案。"),Object(s["f"])("br"),Object(s["h"])(" 想確定下載檔案的位置是否正確請參考"),Object(s["f"])("a",{class:"_footer_link",href:"https://www.bambiland.me/blogs-detail/line-sticker-analyze-tool-beta-launch",target:"_blank"},"這篇文章")],-1),S={class:"_control_des__item"},w=Object(s["f"])("h4",{class:"_control_des__subtitle"},"2. 選擇該組貼圖圖片（完成第一步驟後才會顯示上傳按鈕）",-1),y=Object(s["f"])("p",{class:"_control_des__des"},"檔名必須為 01.png, 02.png ... 40.png",-1),x=Object(s["f"])("p",{class:"_control_des__des"},"* 不一定要上傳圖片，但有圖片可以幫助更快看出是哪張貼圖喔",-1),$={key:0,class:"_control_table"},I={key:0},R={class:"_control_table__title"},T={class:"_control_block"},B={class:"_control_block__wrap"},C={class:"_control_time__item"},N=Object(s["h"])(" 開始日期 "),F=["v-model","value"],M={class:"_control_time__item"},U=Object(s["h"])(" 結束日期 "),A=["v-model","value"];function E(e,t,a,n,i,r){var l=Object(s["x"])("Table");return Object(s["s"])(),Object(s["e"])("div",h,[Object(s["f"])("div",j,[O,Object(s["f"])("div",m,[k,D,Object(s["f"])("input",{class:"_control_des__btn",type:"file",onChange:t[0]||(t[0]=function(){return r.handleFileChange&&r.handleFileChange.apply(r,arguments)}),multiple:""},null,32)]),Object(s["f"])("div",S,[w,y,x,i.tableData?(Object(s["s"])(),Object(s["e"])("input",{key:0,class:"_control_des__btn",type:"file",onChange:t[1]||(t[1]=function(){return r.handlePicChange&&r.handlePicChange.apply(r,arguments)}),multiple:""},null,32)):Object(s["d"])("",!0)])]),i.tableData?(Object(s["s"])(),Object(s["e"])("div",$,[i.stickerName?(Object(s["s"])(),Object(s["e"])("div",I,[Object(s["f"])("h5",R,Object(s["z"])(i.stickerName)+" 結果",1)])):Object(s["d"])("",!0),Object(s["f"])("div",T,[Object(s["f"])("div",B,[Object(s["f"])("div",C,[N,Object(s["f"])("input",{"v-model":i.startDate,value:i.startDate,disabled:""},null,8,F)]),Object(s["f"])("div",M,[U,Object(s["f"])("input",{"v-model":i.lastDate,value:i.lastDate,disabled:""},null,8,A)])])]),Object(s["i"])(l,{fields:i.fields,tableData:i.tableData,onUpdate:r.reSortData,active:"id"},null,8,["fields","tableData","onUpdate"])])):Object(s["d"])("",!0)])}a("d3b7"),a("ddb0"),a("159b"),a("ac1f"),a("5319"),a("b0c0"),a("c740"),a("a434");var G=a("2ef0"),P=a.n(G),z=a("0748"),J={name:"SingleSticker",components:{Table:z["a"]},data:function(){return{stickerName:"",startDate:null,lastDate:null,jsonData:null,tableData:null,fields:[{slug:"img",tw:"貼圖",sortable:!1},{slug:"id",tw:"編號",sortable:!0},{slug:"sent",tw:"貼圖傳送次數",sortable:!0},{slug:"receive",tw:"貼圖被接收次數",sortable:!0},{slug:"userSentTo",tw:"傳送貼圖人數",sortable:!0},{slug:"userReceive",tw:"接收貼圖人數",sortable:!0},{slug:"avgUserReceive",tw:"平均接收人數/張",sortable:!0},{slug:"avgSent",tw:"平均傳送次數/人",sortable:!0}]}},methods:{handleFileChange:function(e){for(var t=this,a=e.target.files,s=0;s<a.length;s++)this.$papa.parse(a[s],{complete:function(e){t.restructureData(e.data)}})},handlePicChange:function(e){var t=e.target.files,a=P.a.values(t),s=this;a.forEach((function(e){var t={};t.id=e.name.replace(".png","");var a=new FileReader;a.addEventListener("load",(function(e){t.img=e.target.result;var a=s.tableData.findIndex((function(e){return e.id===t.id}));P.a.merge(s.tableData[a],t)})),a.readAsDataURL(e)}))},restructureData:function(e){this.stickerName=e.shift()[0];var t=this.splitStickerArr(e),a=this.arrToObj(t);this.jsonData=a,this.filterData(a)},splitStickerArr:function(e){var t=[],a=[];e.splice(-1,1);for(var s=0;s<e.length;s++)1===e[s].length&&""===e[s][0]?(t.push(a),a=[]):a.push(e[s]);return t},arrToObj:function(e){var t=[];return e.forEach((function(e){var a={};a.no=e.shift()[0],a.data=[];var s={};e.shift(),e.forEach((function(e){for(var t=0;t<e.length;t++)s.date=e[0],s.sent=parseInt(e[1]),s.receive=parseInt(e[2]),s.userSentTo=parseInt(e[3]),s.userReceive=parseInt(e[4]);a.data.push(s),s={}})),t.push(a),a={}})),t},filterData:function(e){var t=e[0].data;this.startDate=t[0].date,this.lastDate=t[t.length-1].date;for(var a=[],s={},n=0,i=0;i<e.length;i++){s.id=e[i].no;var r=e[i].data;s.sent=P.a.sumBy(r,(function(e){return e.sent})),s.receive=P.a.sumBy(r,(function(e){return e.receive})),s.userSentTo=P.a.sumBy(r,(function(e){return e.userSentTo})),s.userReceive=P.a.sumBy(r,(function(e){return e.userReceive})),s.avgUserReceive=Math.round(s.userReceive/s.userSentTo*100)/100,s.avgSent=Math.round(s.sent/s.userSentTo*100)/100,s.no=n,n++,a.push(s),s={}}this.tableData=a},reSortData:function(e){var t=[];t=P.a.sortBy(this.tableData,(function(t){return t[e.ta]})),e.decrease?this.tableData=P()(t).reverse().value():this.tableData=P()(t).value()}},watch:{},created:function(){},mounted:function(){}};const L=f()(J,[["render",E]]);var V=L,X={name:"singleSticker",components:{Guide:v,Footer:g["a"],Menu:p["a"],SingleSticker:V},data:function(){return{}},methods:{},watch:{},created:function(){},mounted:function(){}};const q=f()(X,[["render",r]]);t["default"]=q}}]);
//# sourceMappingURL=singleSticker.4aa0163d.js.map